import{k as u,_ as x,o as f,c as b,a as e,b as d,r as C,d as T,e as V,w as c,v as p,n as k,t as w,l as A,F as I,h as D}from"./index-qdpuCGoe.js";const m="/api/member",v={async checkId(l){const{data:t}=await u.get(`${m}/checkemail/${l}`);return console.log("AUTH GET CHECKUSERNAME",t),t},async create(l){const{data:t}=await u.post(`${m}/signup`,l,{headers:{"Content-Type":"application/json"}});return console.log("AUTH POST",t),t},async checkName(l){const{data:t}=await u.get(`${m}/checkname/${l}`);return console.log("login get checkname",t),t},async update(l){const t=new FormData;t.append("name",l.name);const{data:o}=await u.put(`${m}/${l.id}/name`,t,headers);return console.log("AUTH PUT : ",o),o}},H={},j={class:"container"};function B(l,t){return f(),b("div",j,t[0]||(t[0]=[e("header",{class:"header"},[e("nav",{class:"navbar fixed-top bg-body-tertiary border-bottom"},[e("div",{class:"navbar-custom container-fluid d-flex align-items-center",style:{"background-color":"white"}},[e("div",{class:"nav-item flex-fill d-flex"},[e("i",{class:"fas fa-arrow-left icon-large",onclick:"history.back()"})]),e("div",{class:"nav-item flex-fill d-flex justify-content-center"},[e("span",{class:"navbar-brand"},"회원가입")]),e("div",{class:"nav-item flex-fill d-flex justify-content-center"})])])],-1)]))}const q=x(H,[["render",B],["__scopeId","data-v-b6c31645"]]),F={class:"container"},M={class:"col-12"},R={class:"input-group"},P={class:"col-12"},z={class:"col-12"},G={key:0,class:"text-danger ms-2"},K={class:"d-flex align-items-center"},L={class:"col-12"},O={class:"input-group"},J={__name:"SignUp",setup(l){const t=D(),o=d(""),g=d(""),U=d(!1),a=C({id:"",password:"",password2:"",name:""}),r=d(!0),i=d(!0),E=T(()=>a.id.includes("@")),N=async()=>{if(!a.id)return alert("사용자 ID를 입력하세요");if(!E.value)return alert("유효한 이메일을 입력해주세요");r.value=await v.checkId(a.id),console.log(r.value,typeof r.value),o.value=r.value?"이미 사용중인 아이디 입니다":"사용가능한 아이디 입니다."},S=async()=>{if(a.password!=a.password2)return alert("비밀번호가 일치하지 않습니다");try{await v.create(a),t.push("/")}catch(y){console.error(y)}},$=async()=>{if(a.name)i.value=await v.checkName(a.name),console.log(i.value,typeof i.value),g.value=i.value?"이미 사용중인 닉네임 입니다":"사용가능한 닉네임 입니다.";else return alert("사용자 닉네임을 입력해주셔야됩니다.")};return(y,s)=>(f(),b(I,null,[V(q),e("div",F,[s[12]||(s[12]=e("h1",null," 반갑습니다!",-1)),s[13]||(s[13]=e("br",null,null,-1)),s[14]||(s[14]=e("br",null,null,-1)),e("div",M,[s[4]||(s[4]=e("label",{for:"id",class:"form-label"},"*이메일",-1)),e("div",R,[c(e("input",{type:"text",class:"form-control",id:"id",placeholder:"hongildong@kb.com","onUpdate:modelValue":s[0]||(s[0]=n=>a.id=n)},null,512),[[p,a.id]]),e("button",{class:"btn btn-custom",type:"button",onClick:N},"인증하기"),e("span",{class:k(r.value.value?"text-primary":"text-danger")},w(o.value),3)]),s[5]||(s[5]=e("div",{class:"invalid-feedback"}," 이메일을 입력해주세요. ",-1))]),s[15]||(s[15]=e("br",null,null,-1)),e("div",P,[s[6]||(s[6]=e("label",{for:"password",class:"form-label"},"*비밀번호",-1)),c(e("input",{type:"text",class:"form-control",id:"password",placeholder:"1234","onUpdate:modelValue":s[1]||(s[1]=n=>a.password=n),required:""},null,512),[[p,a.password]]),s[7]||(s[7]=e("div",{class:"invalid-feedback"}," 비밀번호를 입력해주세요. ",-1))]),s[16]||(s[16]=e("br",null,null,-1)),e("div",z,[s[8]||(s[8]=e("label",{for:"password2",class:"form-label"},"*비밀번호 확인",-1)),U.value?(f(),b("span",G,"비밀번호가 일치하지 않습니다.")):A("",!0),e("div",K,[c(e("input",{type:"text",class:"form-control",id:"password2",placeholder:"1234","onUpdate:modelValue":s[2]||(s[2]=n=>a.password2=n),required:""},null,512),[[p,a.password2]])]),s[9]||(s[9]=e("div",{class:"invalid-feedback"}," 비밀번호를 확인해주세요. ",-1))]),s[17]||(s[17]=e("br",null,null,-1)),e("div",L,[s[10]||(s[10]=e("label",{for:"name",class:"form-label"},"*닉네임",-1)),e("div",O,[c(e("input",{type:"text",class:"form-control",id:"name",placeholder:"키키핑","onUpdate:modelValue":s[3]||(s[3]=n=>a.name=n),required:""},null,512),[[p,a.name]]),e("button",{class:"btn btn-custom",type:"button",onClick:$},"중복 확인"),e("span",{class:k(i.value.value?"text-primary":"text-danger")},w(g.value),3)]),s[11]||(s[11]=e("div",{class:"invalid-feedback"}," 닉네임을 입력해주세요. ",-1))]),s[18]||(s[18]=e("br",null,null,-1)),s[19]||(s[19]=e("br",null,null,-1)),e("button",{class:"btn btn-signup",type:"submit",onClick:S},"회원가입")])],64))}},W=x(J,[["__scopeId","data-v-01a802aa"]]);export{W as default};
